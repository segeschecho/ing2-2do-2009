\chapter{Arquitectura}

Para satisfacer los nuevos requerimientos que surgieron en esta nueva etapa, se tuvieron que hacer diferentes modificaciones a la arquitectura que se tenía anteriormente. Estas modificaciones consistieron en su mayoría en el agregado de nuevos componentes para realizar las nuevas funciones impuestas, y en menor medida, se amplio la funcionalidad de alguno de los módulos ya existentes. Si bien estas modificaciones no fueron grandes, tuvo una repercusión importante ya que el comportamiento del sistema cambio en gran medida.

Para solucionar el problema de las regiones y los gobiernos provinciales, se pensó la arquitectura para que contemple los nuevos requerimientos de la siguiente forma:

\begin{itemize}
\item Dentro de una región, pueden existir varias provincias, por ende varios gobiernos provinciales.

\item Cada provincia, tiene una $Estacion$ $Central$ que toma y procesa los datos de la misma.

\item Los modelos pertenecientes a los gobiernos provinciales, podrán procesar los datos de las Tr's dentro de su región pero deberán suscribirse a estaciones centrales de otras regiones en caso de necesitar datos que son sensadas por estas últimas.
\item Finalmente cualquier estación central podrá comunicarse con otra para solicitar resultados parciales de acuerdo a su conveniencia.
\end{itemize}

\begin{figure}[h]
\centering
\includegraphics[scale=0.4]{regionProvincia.png}
\end{figure}

De ésta forma, se tiene un mejor control de los datos y los modelos de las diferentes provincias, ademas de distribuir la ejecución de una misma región.

La comunicación entre $Estaciones$ $Centrales$ pude realizarse por diferentes medios de comunicación, ya sea por gsm o por internet por ejemplo y eso estará descripto en la descripción de funcionalidad del componente responsable de esa comunicación. Esta comunicación se realizará mediante mensajes de control que permitan a una Estación central, pedir resultados parciales de un modelo, o pedir información de ciertos sensores a otras Estaciones Centrales regionales.